(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"6RjT":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),a=n.n(r),o=n("siax"),c=(n("fKEw"),n("P0qE")),u=function(e){return Object(c.b)("/feedback",e)},s=function(e){return Object(c.b)("/accuracy_score",e)};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(i,e);var t,n,r,c=p(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),d(y(t=c.call(this,e)),"getExerciseAccuracyPercentage",(function(){var e=t.props.match.params.id;s({exercise_id:e}).then((function(e){if(e){var n=e.accuracy_score?e.accuracy_score:0;n<0&&(n=0),n<30?t.setState({lowAccuracyValue:!0,textColor:"orange"}):n>30&&n<70?t.setState({highAccuracyValue:!0,textColor:"yellow",greatEffortMessage:!0}):t.setState({highAccuracyValue:!0,textColor:"green",greatEffortMessage:!0}),t.setState({loaderMessage:!1,accuracyValue:n}),console.log("accuracy value",e)}})).catch((function(e){console.log(e)}))})),d(y(t),"goBack",(function(){t.props.history.push("/app/welcome")})),d(y(t),"goSummary",(function(){var e=t.props.match.params.id;t.sendFeedback(),t.props.history.push("/app/summary/".concat(e))})),d(y(t),"stepChange",(function(e){t.setState({step:e})})),d(y(t),"sendFeedback",(function(){var e=(t.state.step/20).toFixed(0),n=t.props.match.params.id;u({effort_score:e,exercise_id:n}).then((function(e){e&&console.log("feedback stored successfully")})).catch((function(e){console.log(e)}))})),t.state={step:"1",accuracyValue:"0",loaderMessage:!0,highAccuracyValue:!1,textColor:"green",lowAccuracyValue:!1,lowAccuracyMessage1:"Your workout showed a lot of variation from the instructor's video.",lowAccuracyMessage2:"Would you like to try again?",greatEffortMessage:!1},t}return t=i,(n=[{key:"UNSAFE_componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.getExerciseAccuracyPercentage()}},{key:"render",value:function(){return a.a.createElement("div",{className:"feedback p-4"},a.a.createElement("div",{className:"w-100"},a.a.createElement("div",{className:""},this.state.greatEffortMessage&&a.a.createElement("p",{className:"top-text green"},"Great effort!"),this.state.highAccuracyValue&&a.a.createElement("p",{className:"top-text margin-bottom-40 ".concat(this.state.textColor)},"You performed ",this.state.accuracyValue,"% of the steps correctly"),this.state.lowAccuracyValue&&a.a.createElement("p",{className:"top-text margin-bottom-40 ".concat(this.state.textColor)},this.state.lowAccuracyMessage1,a.a.createElement("br",null),this.state.lowAccuracyMessage2),a.a.createElement("p",{className:"top-text"},"How did this workout feel?"),a.a.createElement(o.a,{min:0,max:100,defaultValue:0,marks:{20:"",40:"",60:"",80:"",100:""},step:20,onChange:this.stepChange}),a.a.createElement("div",{className:"row pt-2"},a.a.createElement("div",{className:"col-md-6 pull-left text-left green"},"Easy"),a.a.createElement("div",{className:"col-md-6 pull-right text-right red"},"Hard")))),a.a.createElement("div",{className:"bottom-container d-flex flex-row justify-content-center align-items-center"},a.a.createElement("button",{type:"button",className:"buttons mr-2",onClick:this.goBack},"Back"),a.a.createElement("button",{type:"button",className:"buttons ml-2",onClick:this.goSummary},"Next")),this.state.loaderMessage&&a.a.createElement("div",{className:"loader-message"},a.a.createElement("div",{className:"v-align"},a.a.createElement("div",{className:"loader"}),a.a.createElement("br",null),a.a.createElement("div",{className:"message"},"Our AI virtual trainer is assessing the accuracy of your workout. Hang on."))))}}])&&l(t.prototype,n),r&&l(t,r),i}(a.a.Component);g.propTypes={},g.defaultProps={};t.default=g},P0qE:function(e,t,n){"use strict";function r(e,t,n,r,a,o,c){try{var u=e[o](c),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var c=e.apply(t,n);function u(e){r(c,a,o,u,s,"next",e)}function s(e){r(c,a,o,u,s,"throw",e)}u(void 0)}))}}n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return l}));var o="https://physio.coreviewsystems.com:8081",c=function(e){return null==e?"":e},u=function(e,t){return t?"".concat(e,"?").concat(Object.keys(t).map((function(e){return Array.isArray(t[e])?t[e].map((function(t){return"".concat(e,"[]=").concat(c(t).toString().replace("+","%2B")).trim()})).join("&"):"".concat(e,"=").concat(c(t[e]).toString().replace("+","%2B")).trim()})).join("&")):e},s=function(){var e=a(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),a={method:"GET",headers:{Accept:"application/json"}},r&&(a.headers.Authorization="Bearer ".concat(r)),e.abrupt("return",fetch("".concat(o).concat(u(t,n)),a).then((function(e){return e.json()}),(function(e){return e})));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=a(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}},n&&(a.body=JSON.stringify(n)),r&&(a.headers.Authorization="Bearer ".concat(r)),e.abrupt("return",fetch("".concat(o).concat(t),a).then((function(e){return e.json()}),(function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=a(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),a={method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"}},n&&(a.body=JSON.stringify(n)),r&&(a.headers.Authorization="Bearer ".concat(r)),e.abrupt("return",fetch("".concat(o).concat(t),a).then((function(e){return e.json()}),(function(e){return e})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},fKEw:function(e,t,n){}}]);